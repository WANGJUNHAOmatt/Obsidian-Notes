
#Programing/Python 

[TOC]

## 🚧本项目正在建设中🚧

- 规划：
	- [ ] 修改章节顺序，按照  Python 的 [Tutorial](https://docs.python.org/3/tutorial/index.html) 中的顺序。
		- [ ] Python 能干什么

## 前导课程

- [[Python 开发环境配置 从 0 到 1（MacOS）]]

## Python!为什么Python?

### Python 有啥用？

- 最近做的项目

### Python 有啥好的？

- 容易学习 [[各个语言的Hello World]]
- 活跃开放的社区
- 人数众多的使用者和开发者

> Python 作为当前（截止编辑时，2022年10月，后同）最为热门的编程语言（[TIOBE Index - TIOBE](https://www.tiobe.com/tiobe-index/)），拥有超过 40万 个第三方库（[The Python Package Index (PyPI) is a repository of software for the Python programming language.](https://pypi.org/)），拥有活跃的社群参与（[Our Community](https://www.python.org/community/)）。
>  Python 的发展，离不开活跃的用户社群及开发者社群，在 [Issues · python/cpython](https://github.com/python/cpython/issues) 中有超过 60000 个话题，超过 2000 名开发者完成了 11.5 万次的 代码提交。在 [Discussions on Python.org](https://discuss.python.org/) 中 7600 余个用户 创建了 6200 个话题，发表了 7 万个帖子（[About - Discussions on Python.org](https://discuss.python.org/about)）。

## 3xFF 基本数据类型及计算

### 3x00 导入 —— 数据结构的实际应用

| 生活中的数据 | 适合的数据结构  |              数据表示               |    转换函数     |
|:------------:|:---------------:|:-----------------------------------:|:---------------:|
|   你的年龄   |  整型 Integer   |                `18`                 |    `int(x)`     |
|   你的身高   |  浮点型 Float   |               `180.2`               |   `float(x)`    |
| 你是男孩子吗 | 布尔型 Boolean  |          `True` or `False`          |    `bool(x)`    |
|    没想出    |  复数 Complex   |              `1 + 2j`               | `complex(x, y)` |
|   你的名字   |  字符串 String  |             `"鲍波翰"`              |    `str(s)`     |
|  你的感情史  |    列表 List    |       `["小A", "小B", "小A"]`       |    `list(x)`    |
| 你的前女友们 |    集合 Set     |          `{"小A", "小B"}`           |    `set(x)`     |
| 你的生辰八字 |   元组 Tuple    | `("己巳", "丁卯", "戊寅", "丁巳")`  |   `tuple(x)`    |
| 朋友们的年龄 | 字典 Dictionary | `{"老X": 19, "老Y": 20, "老Z": 18}` |    `dict(x)`    |

### 3x10 数据和数据类型的概念

#### 3x11 为啥要有这么多数据类型？

```python
>>> "12" + "3"
'123'

>>> 12 + 3
15
```

###### 为啥结果不一样？原来是 `"12"` 和 `12` 的数据类型不同

在 `Python` 中，我们可以使用 `type(object)` 来获得 一个 对象 的 类，即 `type(object) -> the object's type`。

对象 和 类 的概念，我们马上解释，让我们先来看一下使用 `type(object)` 函数获得的 `"12"` 和 `12` 的类 都是什么吧：

```python
>>> type("12")
<class 'str'>

>>> type(12)
<class 'int'>
```

原来，`"12"`  是字符串型(`str`)，而 `12` 是整型(`int`)。

***数据类型不同，为什么他们的运算结果不同呢？***

这是因为，两个 **字符串** 相加 `"Hello" + " World!"` 的结果 就是 把两个字符串连接起来，也就是  `"Hello World!"`。

而 两个 **整数** 相加 `1 + 2` 的结果，就是 数学中 两个数 加法 的结果，也就是 `3`。

这也就是为什么 `"12" + "3"` 是 `"123"`，而 `12 + 3` 是 `"15"` 的原因啦！

>[!note] 划重点
>在 `Python` 中，**不同数据类型的存储方式、运算方式可以不同**，这点我们一定要牢记。

刚刚说的 类 和 对象 是什么 啊？

![[对象和类]]

#### 3x12 为什么要学习数据类型

因为我们需要了解各个数据类型的特点和方法，从而可以根据不同需求和场景选择适合的数据结构。

#### 3x13 Python的内置数据类型

>[!info]
>参见 [Python Tutorial 第 3 章](https://docs.python.org/3/tutorial/introduction.html) 以及 [Python Tutorial 第 5 章](https://docs.python.org/3/tutorial/datastructures.html)。

1. 简单数据类型
   1. 整型 ```int```

      整数具有无限的精度。

   2. 浮点型 ```float```

      ```float```类型通常可以提供至多**15**个数字的精度
      > 这是由于浮点数通常使用 ```C``` 中的 ```double``` 来实现

      - 关于精度的小Tip：
         > Python的整数类型的大小是没有限制的
         >
         > 所以可以考虑把高精度浮点数的运算转化为整数运算再求解。

      ```python
      >>> #浮点数的精度
      >>> 1.23456789*1.23456789
      1.5241578750190519
      >>> 123456789*123456789
      15241578750190521
      ```

   3. 布尔型 ```bool```

      布尔值是两个常量对象 ```False``` 和 ```True```。 它们被用来表示逻辑上的真假（不过其他值也可被当作真值或假值）。

      - 用真和假

   4. 复数 ```complex```
      复数包含实部和虚部，分别以一个浮点数表示。

      要从一个复数 ```z``` 中提取这两个部分，可使用 ```z.real``` 和 ```z.imag```。

2. 组合数据类型
   1. 字符串 ```str```
   2. 元组 ```tuple```
   3. 列表 ```list```
   4. 字典 ```dict```
   5. 集合 ```set```

### 3x20 数值数据的表示和计算

   表达式是**数据对象**和**运算符**，按照**一定的规则**写出的式子，描述计算过程。

#### 3x21 Python 中的运算符

##### 3x21_1 算数运算符

> 以下假设```a=10,b=21```：

|  运算符  | 描述                                            |                              实例                              |
| :------: | :---------------------------------------------- | :------------------------------------------------------------: |
| ```+```  | 加 - 两个对象相加                               |                 ```a + b``` 输出结果 ```31```                  |
| ```-```  | 减 - 得到负数或是一个数减去另一个数             |                 ```a - b``` 输出结果 ```-11```                 |
| ```*```  | 乘 - 两个数相乘或是返回一个被重复若干次的字符串 |                 ```a* b``` 输出结果 ```210```                  |
| ```/```  | 除 - x 除以 y                                   |                 ```b / a``` 输出结果 ```2.1```                 |
| ```%```  | 取模 - 返回除法的余数                           |                  ```b % a``` 输出结果 ```1```                  |
| ```**``` | 幂 - 返回x的y次幂                               |                 ```a**b``` 输出结果 $10^{21}$                  |
| ```//``` | 取整除 - 向下取接近商的整数                     | ```9//2``` 输出结果 ```4``` <br> ```-9//2``` 输出结果 ```-5``` |

---

##### 3x21_2 比较运算符

> 以下假设变量`a=10,b=20`：

|  运算符  | 描述                                      |              实例               |
| :------: | :---------------------------------------- | :-----------------------------: |
| $==$ | 等于 - 比较对象是否相等                   | `(a == b)` 返回 `False` |
| `!=` | 不等于 - 比较两个对象是否不相等           | `(a != b)` 返回 `True`  |
| ```>```  | 大于 - 返回```x```是否大于```y```         | `(a > b)` 返回 ```False```  |
| ```<```  | 小于 - 返回```x```是否小于```y```         |  `(a < b)` 返回 ```True```  |
| `>=` | 大于等于 - 返回```x```是否大于等于```y``` | `(a >= b)` 返回 ```False``` |
| `<=` | 小于等于 - 返回```x```是否小于等于```y``` | `(a <= b)` 返回 ```True```  |

- 注意：**比较运算可以任意串连**，例如 ```x < y <= z``` 等价于 ```x < y and y <= z```

---

##### 3x21_3 赋值运算符

|  运算符   | 描述             |                          实例                           |
| :-------: | :--------------- | :-----------------------------------------------------: |
|  ```=```  | 简单的赋值运算符 | ```c = a + b``` 将 ```a + b``` 的运算结果赋值为 ```c``` |
| ```+=```  | 加法赋值运算符   |           ```c += a``` 等效于 ```c = c + a```           |
| ```-=```  | 减法赋值运算符   |           ```c -= a``` 等效于 ```c = c - a```           |
| ```*=```  | 乘法赋值运算符   |           ```c*= a``` 等效于 ```c = c * a```            |
| ```/=```  | 除法赋值运算符   |           ```c /= a``` 等效于 ```c = c / a```           |
| ```%=```  | 取模赋值运算符   |           ```c %= a``` 等效于 ```c = c % a```           |
| ```**=``` | 幂赋值运算符     |          ```c**= a``` 等效于 ```c = c ** a```           |
| ```//=``` | 取整除赋值运算符 |          ```c //= a``` 等效于 ```c = c // a```          |

---

##### 3x21_4 逻辑运算符

> 以下假设变量```a=10,b=20```：

|  运算符   | 逻辑表达式    |                                                    描述                                                    |                实例                 |
| :-------: | :------------ | :--------------------------------------------------------------------------------------------------------: | :---------------------------------: |
| ```and``` | ```x and y``` |           布尔"与" - 如果 ```x``` 为 ```False```，返回 ```x``` 的值<br>否则返回 ```y``` 的计算值           |   ```(a and b)``` 返回 ```20```。   |
| ```or```  | ```x or y```  |          布尔"或" - 如果 ```x``` 是 ```True```，返回 ```x``` 的值<br>否则它返回 ```y``` 的计算值           |   ```(a or b)``` 返回 ```10```。    |
| ```not``` | ```not x```   | 布尔"非" - 如果 ```x``` 为 ```True```，返回 ```False``` <br>如果 ```x``` 为 ```False```，它返回 ```True``` | ```not(a and b)``` 返回 ```False``` |

---

#### 3x22 Python 运算符的优先级

|  优先级  | 运算符                     |        描述        |
| :------: | :------------------------- | :----------------: |
| ```1```  | ```lambda```               | ```Lambda```表达式 |
| ```2```  | ```or```                   |      布尔“或”      |
| ```3```  | ```and```                  |      布尔“与”      |
| ```4```  | ```not x```                |      布尔“非”      |
| ```5```  | ```in，not in```           |      成员测试      |
| ```6```  | ```is，is not```           |     同一性测试     |
| ```7```  | ```<，<=，>，>=，!=，==``` |        比较        |
| ```8```  | ```\|```                   |       按位或       |
| ```9```  | ```^```                    |      按位异或      |
| ```10``` | ```&```                    |       按位与       |
| ```11``` | ```<<，>>```               |        移位        |
| ```12``` | ```+，-```                 |     加法与减法     |
| ```13``` | ```*，/，%```              |  乘法、除法与取余  |
| ```14``` | ```+x，-x```               |       正负号       |
| ```15``` | ```~x```                   |      按位翻转      |
| ```16``` | ```**```                   |        指数        |
| ```17``` | ```x.attribute```          |      属性参考      |
| ```18``` | ```x[index]```             |        下标        |
| ```19``` | ```x[index:index]```       |       寻址段       |
| ```20``` | ```f(arguments...)```      |      函数调用      |
| ```21``` | ```(experession,...)```    |   绑定或元组显示   |
| ```22``` | ```[expression,...]```     |      列表显示      |
| ```23``` | ```{key:datum,...}```      |      字典显示      |
| ```24``` | ```'expression,...'```     |     字符串转换     |

#### 3x23 模块和函数

##### 3x23_1 内置系统常量

- ```True``` 布尔 真
- ```False``` 布尔 假
- ```None``` 空值常量（```None Type```）

##### 3x23_2 内置系统函数

常用内置系统函数详见[附录 FxFF 常见的函数](#附录-FxFF-常见的函数)

##### 3x23_3 标准库非内置模块

除了内置模块，Python标准库中还提供了数学运算（```math```库、```random```库）、日期和时间（```datetime```库、```time```库）等标准库非内置模块支持程序功能的快速开发。
> 以上所列的库均为本学期在课程中使用过的库。

##### 3x23_4 标准库函数使用方法

![[Python 库的使用]]

### 3x30 文本数据的表示和操作

#### 3x31 文本的表示

##### 3x31_1 字符

计算机表示文本的最基本的单位就是**字符**

其中包括：

1. 可打印字符

   ``` python
   >>> string.printable
   '0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ!"#$%&\'()*+,-./:;<=>?@[\\]^_`{|}~ \t\n\r\x0b\x0c'
   ```

2. 不可打印的控制字符

##### 3x31_2 字符串常量

在 Python 中处理文本数据是使用 ```str``` 对象，也称为 **字符串**。 字符串是由 ```Unicode``` 码位构成的不可变 **序列**。

字符串字面值有多种不同的写法：

- 单引号: ```'允许包含有 "双" 引号'```

- 双引号: ```"允许包含有 '单' 引号"```

- 三重引号: ```'''三重单引号''', """三重双引号"""```

   > 使用三重引号的字符串可以跨越多行 —— 其中所有的空白字符都将包含在该字符串字面值中。

##### 3x31_3 Python 常用的转义字符

| 转义序列 | 意义                          |
| :------: | :---------------------------- |
| ```\\``` | 反斜杠（```\```）             |
| ```\'``` | 单引号（```'```）             |
| ```\"``` | 双引号（```"```）             |
| ```\b``` | ASCII 退格符（```BS```）      |
| ```\n``` | ASCII 换行符（```LF```）      |
| ```\r``` | ASCII 回车符（```CR```）      |
| ```\t``` | ASCII 水平制表符（```TAB```） |

##### 3x31_4 字符串变量

字符串同样也可以使用字符串变量来操作。

``` python
# 字符串变量实例
>>> s = "Hello World!"
>>> print(s)
Hello World!
```

#### 3x32 字符串类型数据的基本操作

##### 3x32_1 字符串的连接

- 相邻的两个或多个 字符串字面值 （引号引起来的字符）将会自动连接到一起.

``` python
>>> 'Py' 'thon'
'Python'
```

- 使用 ```+``` 运算连接两个字符串

``` python
>>> 'Hello' + ' ' + 'World!'
'Hello World!'
```

##### 3x32_2 字符串的复制

- 使用 ```*``` 运算生成重复字符串

``` python
# 字符串常量的复制
>>> 'I love you! ' * 3
'I love you! I love you! I love you! '
# 字符串变量的复制
>>> s = 'I love you! '
>>> 3 * s
'I love you! I love you! I love you! '
```

##### 3x32_3 字符串的索引

字符串是可以被 **索引** （下标访问）的，第一个字符索引是 ```0```。*单个字符并没有特殊的类型*，只是一个长度为一的字符串:

``` python
>>> word = 'Python'
>>> word[0]  # character in position 0
'P'
>>> word[5]  # character in position 5
'n'
```

**索引也可以用负数**，这种会从右边开始数:

``` python
>>> word[-1]  # last character
'n'
>>> word[-2]  # second-last character
'o'
>>> word[-6]
'P'
```

> 注意 ```-0``` 和 ```0``` 是一样的，所以负数索引从 ```-1``` 开始。

##### 3x32_4 字符串的切片

除了**索引**，字符串还支持 **切片**。索引可以得到单个字符，而 **切片** 可以获取子字符串:

``` python
>>> word = 'Python'
>>> word[0:2]  # characters from position 0 (左闭) to 2 (右开)
'Py'
>>> word[2:5]  # characters from position 2 (左闭) to 5 (右开)
'tho'
```

切片的索引有默认值；省略开始索引时默认为0，省略结束索引时默认为到字符串的结束:

``` python
>>> word[:2]   # 从头到第二位
'Py'
>>> word[4:]   # 从第四位到最后一位
'on'
>>> word[-2:]  # 从倒数第二位到末尾
'on'
```

#####  3x32_5 使用 ```in``` 来测试一个子串是否存在于一个字符串中

``` python
# <子串> in <字符串>
>>> s = "hello python!"
>>> 'py' in s
True
>>> t = 'the'
>>> t in s
False
```

#### 3x33 字符串的处理函数

- 详见附录 [[Python 入门#Fx03 内置字符串处理函数 | 内置字符串处理函数]]

#### 3x34 字符串对象的方法

- ```str.capitalize()```

   > 返回原字符串的副本，其首个字符大写，其余为小写。

   ``` python
   >>> "hello world!".capitalize()
   'Hello world!'
   ```

- ```str.count(sub[, start[, end]])```
   > 返回子字符串 ```sub``` 在 `[start, end]` 范围内非重叠出现的次数。 可选参数 `start` 与 `end` 会被解读为切片表示法。

   ``` python
   >>> "我爱你一生一世".count("一")
   2
   ```

- `str.find(sub[, start[, end]])`
  
> 返回子字符串 `sub` 在 `s[start:end]` 切片内被找到的最小索引。 可选参数 `start` 与 `end` 会被解读为切片表示法。 如果 `sub` 未被找到则返回 `-1`。

   ``` python
   >>> "你能在这里找到我爱你吗？".find("我爱你")
   7
   ```

- `str.join(iterable)`
   > 返回一个由 `iterable` 中的字符串拼接而成的字符串。

   ``` python
   >>> "-".join(['我','爱','你'])
   '我-爱-你'   
   ```

- `str.lower()`
   > 返回**原字符串的副本**，其所有区分大小写的字符均转换为小写。

   ``` python
   >>> "I Love You".lower()
   'i love you'
   ```

- `str.lstrip([chars])`
   > 返回原字符串的副本，移除其中的前导字符。 `chars` 参数为指定要移除字符的字符串。 如果省略或为 `None`，则 `chars` 参数默认移除空格符。 实际上 `chars` 参数并非指定单个前缀；而是会移除参数值的所有组合:

   ``` python
   >>> '   spacious   '.lstrip()
   'spacious   '
   >>> 'www.example.com'.lstrip('cmowz.')
   'example.com'
   ```

- `str.replace(old, new[, count])`
   > 返回字符串的副本，其中出现的所有子字符串 `old` 都将被替换为 `new。` 如果给出了可选参数 `count`，则只替换前 `count` 次出现。

   ``` python
   >>> "我喜欢你".replace("你","XXX")
   '我喜欢XXX'
   ```

- `str.rfind(sub[, start[, end]])`
   > 返回子字符串 `sub` 在字符串内被找到的最大（最右）索引，这样 `sub` 将包含在 `s[start:end]` 当中。 可选参数 `start` 与 `end` 会被解读为切片表示法。 如果未找到则返回 `-1`。

   ``` python
   >>> "我爱你，猜猜你找到的是哪个我爱你？".rfind("我爱你")
   13
   ```

- `str.rstrip([chars])`
   > 返回原字符串的副本，移除其中的末尾字符。 `chars` 参数为指定要移除字符的字符串。 如果省略或为 `None`，则 `chars` 参数默认移除空格符。 实际上 `chars` 参数并非指定单个后缀；而是会移除参数值的所有组合:

   ``` python
   >>> '   spacious   '.rstrip()
   '   spacious'
   >>> 'mississippi'.rstrip('ipz')
   'mississ'
   ```

- `str.split(sep=None, maxsplit=-1)`

   > 返回一个由字符串内单词组成的列表，使用 `sep` 作为分隔字符串。 如果给出了 `maxsplit`，则最多进行 `maxsplit` 次拆分（因此，列表最多会有 `maxsplit+1` 个元素）。 如果 `maxsplit` 未指定或为 `-1`，则不限制拆分次数（进行所有可能的拆分）。
   >
   > 如果给出了 `sep`，则连续的分隔符不会被组合在一起而是被视为分隔空字符串 (例如 `'1,,2'.split(',')` 将返回 `['1', '', '2']`)。 sep 参数可能由多个字符组成 (例如 `'1<>2<>3'.split('<>')` 将返回 `['1', '2', '3']`)。 使用指定的分隔符拆分空字符串将返回 `['']`。

  - 例如:

      ``` python
      >>> '1,2,3'.split(',')
      ['1', '2', '3']
      >>> '1,2,3'.split(',', maxsplit=1)
      ['1', '2,3']
      >>> '1,2,,3,'.split(',')
      ['1', '2', '', '3', '']
      ```

   > 如果 `sep` 未指定或为 `None`，则会应用另一种拆分算法：连续的空格会被视为单个分隔符，其结果将不包含开头或末尾的空字符串，如果字符串包含前缀或后缀空格的话。 因此，使用 `None` 拆分空字符串或仅包含空格的字符串将返回 `[]`。

  - 例如:

      ``` python
      >>> '1 2 3'.split()
      ['1', '2', '3']
      >>> '1 2 3'.split(maxsplit=1)
      ['1', '2 3']
      >>> '   1   2   3   '.split()
      ['1', '2', '3']
      ```

- `str.strip([chars])`
   > 返回原字符串的副本，移除其中的前导和末尾字符。 `chars` 参数为指定要移除字符的字符串。 如果省略或为 `None`，则 `chars` 参数默认移除空格符。 实际上 `chars` 参数并非指定单个前缀或后缀；而是会移除参数值的所有组合:

   ``` python
   >>> '   spacious   '.strip()
   'spacious'
   >>> 'www.example.com'.strip('cmowz.')
   'example'
   ```

- `str.upper()`
   > 返回原字符串的副本，其中所有区分大小写的字符 `4` 均转换为大写。

   ``` python
   "i love you".upper()
   'I LOVE YOU'
   ```

#### 3x35 字符串的遍历

- 使用`for`循环遍历字符串

   ``` python
   >>> for ch in "Hello world!":
   ...       print(ch)
   ...
   H
   e
   l
   l
   o
   w
   o
   r
   l
   d
   !
   ```

#### 3x36 格式化字符串

- 各种对齐选项的含义如下：

| 选项  | 意义                                                                                                                                                    |
|:----- |:------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `'<'` | 强制字段在可用空间内左对齐（这是大多数对象的默认值）。                                                                                                  |
| `'>'` | 强制字段在可用空间内右对齐（这是数字的默认值）。                                                                                                        |
| `'='` | 强制将填充放置在符号（如果有）之后但在数字之前。这用于以“+000000120”形式打印字段。此对齐选项仅对数字类型有效。当'0'紧接在字段宽度之前时，它成为默认值。 |
| `'^'` | 强制字段在可用空间内居中。                                                                                                                              |

- 可用的整数表示类型是：

| 类型  | 意义                                                                   |
|:----- |:---------------------------------------------------------------------- |
| `'b'` | 二进制格式。 输出以 2 为基数的数字。                                   |
| `'c'` | 字符。在打印之前将整数转换为相应的unicode字符。                        |
| `'d'` | 十进制整数。 输出以 10 为基数的数字。                                  |
| `'o'` | 八进制格式。 输出以 8 为基数的数字。                                   |
| `'x'` | 十六进制格式。 输出以 16 为基数的数字，使用小写字母表示 9 以上的数码。 |
| `'X'` | 十六进制格式。 输出以 16 为基数的数字，使用大写字母表示 9 以上的数码。 |

- 可用的字符串表示类型是：

| 类型  | 意义                                         |
|:----- |:-------------------------------------------- |
| `'s'` | 字符串格式。这是字符串的默认类型，可以省略。 |

- [`float`](https://docs.python.org/zh-cn/3/library/functions.html#float) 和 [`Decimal`](https://docs.python.org/zh-cn/3/library/decimal.html#decimal.Decimal) 值的可用表示类型有:

| 类型  | 意义                                                                                                                                                                                                                                                                                                                                                       |
|:----- |:---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `'e'` | 科学计数法。 对于一个给定的精度 `p`，将数字格式化为以字母 'e' 分隔系数和指数的科学计数法形式。 系数在小数点之前有一位，之后有 `p` 位，总计 `p + 1` 个有效数位。 如未指定精度，则会对 [`float`](https://docs.python.org/zh-cn/3/library/functions.html#float) 采用小数点之后 `6` 位精度。 如果小数点之后没有数位，则小数点也会被略去，除非使用了 `#` 选项。 |
| `'E'` | 科学计数法。 与 `'e'` 相似，不同之处在于它使用大写字母 'E' 作为分隔字符。                                                                                                                                                                                                                                                                                  |
| `'f'` | 定点表示法。 对于一个给定的精度 `p`，将数字格式化为在小数点之后恰好有 `p` 位的小数形式。 如未指定精度，则会对 [`float`](https://docs.python.org/zh-cn/3/library/functions.html#float) 采用小数点之后 `6` 位精度。 如果小数点之后没有数位，则小数点也会被略去，除非使用了 `#` 选项。                                                                        |
| `'%'` | 百分比。 将数字乘以 100 并显示为定点 (`'f'`) 格式，后面带一个百分号。                                                                                                                                                                                                                                                                                      |

- 使用逗号作为千位分隔符:

    ```python
    >>> '{:,}'.format(1234567890)
    '1,234,567,890'
    ```

- 表示为百分数:

    ```python
    >>> points = 19
    >>> total = 22
    >>> 'Correct answers: {:.2%}'.format(points/total)
    'Correct answers: 86.36%'
    ```

## 4xFF 程序的控制结构

>[!info]
>[参见 Python Tutorial 第 4 章](https://docs.python.org/3/tutorial/controlflow.html)

### 4x10 程序的基本结构

#### 4x11 程序设计的3种基本结构

1. 顺序结构

   > 顺序结构表示程序中的各个操作时按照它们在源代码中的排列顺序依次执行的。

   - 如下流程图【计算圆的面积和周长】所示

   ```flow
   st=>start: 开始
   in=>inputoutput: 输入 R
   op1=>operation: S = math.pi * R * R
   op2=>operation: L = 2 * math.pi * R
   out=>inputoutput: 输出S，L
   e=>end: 结束
   st->in->op1->op2->out->e
   ```

   

2. 选择结构

   > 选择结构表示程序处理需要根据某个特定条件选择其中一个分支执行。
   >
   > 选择结构有**单选择**、**双选择**、**多选择**。

   

   ```flow
   st=>start: 开始
   in=>inputoutput: 输入 R
   op1=>operation: S = math.pi * R * R
   op2=>operation: L = 2 * math.pi * R
   out=>inputoutput: 输出S，L
   e=>end: 结束
   st->in->op1->op2->out->e
   ```

   
3. 循环结构

   > 循环结构表示程序反复执行某个或某些操作，直到满足特定条件时结束
   >
   > 循环结构有两种基本形式：**当型循环**和**直到型循环**

   - 当型循环

   > 先判断条件，当条件为真时执行循环体，并在循环结束时自动返回到循环入口处，再次判断循环条件：如果条件为假，则退出循环体，到达流程出口处。

   - 直到型循环

   > 从入口处直接执行循环体，循环结束时判断条件，如果条件为真，则返回入口处继续执行循环体。直到条件为假时退出循环体到达流程出口处。

### 4x20 程序的选择结构

### 4x30 程序的异常处理

### 4x40 程序的循环结构

## 5xFF 文件及其程序设计

### 5x10 文件的使用

#### 5x11 文件的类型

   文件是存储在辅助存储器上的**数据序列**，是数据的**抽象**和集合。

   `file object` 即 `文件对象` 有三种类型，我们主要了解 `文本文件` 类型即可，其他两种作为拓展了解。

- `text file` 即 `文本文件`

  > 一种能够读写 [`str`](https://docs.python.org/zh-cn/3/library/stdtypes.html#str) 对象的 [`file object`](https://docs.python.org/zh-cn/3/glossary.html#term-file-object)。
  >
  > 由**单一特定编码**组成，如 `UTF-8` 、 `GBK` 编码等。

  - 常见格式： 
    - `.txt` 文件
    - `.json` 、`.py` 文件

- `binary file` 即 `二进制文件`

  > 储存的是由**比特** `0` 和 `1` 组成的`字节串（bytes）`，**没有统一的字符编码**。

  - 常见格式：
    - `.png` 文件
    - `.avi` 文件

  - `原始二进制文件`
  - `缓冲二进制文件`

#### 5x12 读写文件

##### 5x12_1 文件的打开

- 使用 `open()` 函数

  > 使用方法详见 [附录](#Fx04 读写文件的 `open()` 函数)

##### 5x12_2 文件的关闭

- 使用 `close()` 方法

  ```python
  # <Name>.close() 
  f.close() # f 为 文件对象
  ```

##### 5x12_3 文件的读取

- 使用 `read(size)` 方法

  > 它会读取一些数据并将其作为字符串（在文本模式下）或字节串对象（在二进制模式下）返回。 

  - `size` 是一个可选的数值参数。 

    > **当 `size` 被省略或者为负数时，将读取并返回整个文件的内容**

  ```python
  >>> f.read()
  'This is the entire file.\n'
  >>> f.read()
  ''
  ```

- 使用 `readline()` 方法

  > `f.readline()` 从文件中读取一行；
  >
  > 换行符（`\n`）留在字符串的末尾，如果文件不以换行符结尾，则在文件的最后一行省略。

  ```python
  >>> f.readline()
  'This is the first line of the file.\n'
  >>> f.readline()
  'Second line of the file\n'
  >>> f.readline()
  ''
  ```

- 使用循环遍历文件对象

  > 这是内存高效，快速的，并简化代码。

  ```python
  >>> for line in f:
  ...     print(line, end='')
  ...
  This is the first line of the file.
  Second line of the file
  ```

- 其他读取方式

  ​	如果你想以列表的形式读取文件中的所有行，你也可以使用 `list(f)` 或 `f.readlines()`。

##### 5x12_4 文件的写入

- 使用 `write(string)` 方法

  > `f.write(string)` 会把 *string* 的内容写入到文件中，并返回写入的字符数。

  ```python
  >>> f.write('This is a test\n')
  15
  ```

- 使用 `writelines(data)` 方法

  > 此方法会将一个字节串列表（或任何可迭代对象）写入到文件中。
  
  ```python
  >>> f.writelines(['I', 'Love', 'You'])
  ```

#### 5x13 使用上下文管理语句 `with`

> 我们也可以使用 `with` 语句，它在到达语句末尾时，会自动关闭文件，即使出现异常，也会正常关闭文件。
>
> 使用 `with` 语句操作文件，就不需要调用 `close()` 方法来关闭文件。

```python
with open("text.txt", 'r+') as f:
	for line in f:
        print(line)
```



### 5x20 数据文件访问的程序设计



## 8xFF 图形界面初步

### 8x10 GUI编程和 `tkinter` 库

### 8x20 `tkinter` 常用的窗口控件

### 8x30 `tkinter` 的布局管理

## 附录 FxFF 常见的函数

|                                      函数名称                                       | 使用样例        |           返回值           |                 函数作用                 |
| :---------------------------------------------------------------------------------: | :-------------- | :------------------------: | :--------------------------------------: |
|  [```type(object)```](https://docs.python.org/zh-cn/3/library/functions.html#type)  | ```type(123)``` |    ```<class 'int'>```     | 传入一个参数时，返回 ```object``` 的类型 |
| [```help([object])```](https://docs.python.org/zh-cn/3/library/functions.html#help) | ```help(int)``` | *在控制台上打印的帮助信息* |          了解数据特征、使用方法          |

### Fx01 构造函数

|                                  函数名称                                  | 使用样例        |    返回值    |                                  函数作用                                   |
| :------------------------------------------------------------------------: | :-------------- | :----------: | :-------------------------------------------------------------------------: |
| [```int(x)```](https://docs.python.org/zh-cn/3/library/functions.html#int) | ```int(3.14)``` |   ```3```    | 返回一个基于数字或字符串 ```x``` 构造的整数对象<br>或者在未给出参数时返回 0 |
| [```bin(x)```](https://docs.python.org/zh-cn/3/library/functions.html#bin) | ```bin(3)```    | ```'0b11'``` |                将一个整数转变为一个前缀为“0b”的二进制字符串                 |
| [```oct(x)```](https://docs.python.org/zh-cn/3/library/functions.html#oct) | ```oct(8)```    | ```'0o10'``` |                将一个整数转变为一个前缀为“0o”的八进制字符串                 |
| [```hex(x)```](https://docs.python.org/zh-cn/3/library/functions.html#hex) | ```hex(255)```  | ```'0xff'``` |                将整数转换为以“0x”为前缀的小写十六进制字符串                 |
|                                                                            |                 |              |                                                                             |
|                                                                            |                 |              |                                                                             |
|                                                                            |                 |              |                                                                             |
|                                                                            |                 |              |                                                                             |
|                                                                            |                 |              |                                                                             |
|                                                                            |                 |              |                                                                             |
|                                                                            |                 |              |                                                                             |
|                                                                            |                 |              |                                                                             |
|                                                                            |                 |              |                                                                             |
|                                                                            |                 |              |                                                                             |

### Fx02 数学计算相关

|          函数名称           | 使用样例                  |  返回值  |                                                    函数作用                                                    |
| :-------------------------: | :------------------------ | :------: | :------------------------------------------------------------------------------------------------------------: |
| ```pow(base, exp[, mod])``` | ```pow(38, -1, mod=97)``` | ```23``` | 返回 ```base``` 的 ```exp``` 次幂<br>如果 ```mod``` 存在，则返回 ```base``` 的 ```exp``` 次幂对 ```mod``` 取余 |

- `sorted(iterable, *, key=None, reverse=False)` 

  > 根据 `iterable` 中的项返回一个新的已排序列表。

### Fx03 内置字符串处理函数

- [```len()```](https://docs.python.org/zh-cn/3/library/functions.html#len)
   > 返回一个字符串的长度:

   ``` python
   >>> s = 'supercalifragilisticexpialidocious'
   >>> len(s)
   34
   ```

- [```chr(i)```](https://docs.python.org/zh-cn/3/library/functions.html#ord)
   > 返回 ```Unicode``` 码位为整数 ```i``` 的字符的字符串格式。
   >
   > 这是 ```ord()``` 的逆函数。

   ``` python
   >>> chr(97)
   'a'
   ```

   > 实参的合法范围是 ```0``` 到 ```1,114,111```（```16``` 进制表示是 ```0x10FFFF```）。如果 ```i``` 超过这个范围，会触发 ```ValueError``` 异常。

- [```ord(c)```](https://docs.python.org/zh-cn/3/library/functions.html#ord)
   > 对表示单个 ```Unicode``` 字符的字符串，返回代表它 ```Unicode``` 码点的整数。
   >
   > 这是 ```chr()``` 的逆函数。

   ``` python
   >>> ord('a')
   97
   ```

- [```str(object='')```](https://docs.python.org/zh-cn/3/library/stdtypes.html#str)
  
   > 返回 `object` 的 `字符串` 版本。

   ``` python
   >>> str(521)
   '521'
   ```

### Fx04 读写文件的 `open()` 函数

> 在[读写文件](# 5x12 读写文件)一节中有

`open(file, mode='r', encoding=None)`

> `open()` 函数中部分不常用参数已省略

- `file` 参数

  `file` 表示将要打开的文件的路径（绝对路径或者当前工作目录的相对路径）

- `mode` 参数

  `mode` 是一个可选字符串，用于指定打开文件的模式。默认值是 `'r'` ，这意味着它以文本模式打开并读取。

  | 字符  | 意义                             |
  | :---- | :------------------------------- |
  | `'r'` | 读取（默认）                     |
  | `'w'` | 写入，并先截断文件               |
  | `'x'` | 排它性创建，如果文件已存在则失败 |
  | `'a'` | 写入，如果文件存在则在末尾追加   |
  | `'b'` | 二进制模式                       |
  | `'t'` | 文本模式（默认）                 |
  | `'+'` | 打开用于更新（读取与写入）       |

- `encoding` 参数

  `encoding` 是用于解码或编码文件的编码的名称。

  ``` python
  f = open('text.txt')			# 文本类型、只读模式
  f = open('text.txt', 'r+')		# 文本类型、可读写
  f = open('text.txt', encoding='utf-8') # 文本类型、只读模式、以utf-8解码
  ```

  

### Fx05 random模块 - 生成伪随机数

   该模块实现了各种分布的伪随机数生成器。

   **几乎所有模块函数都依赖于基本函数** ```random()``` ，它在半开放区间 ```[0.0,1.0)``` 内均匀生成随机浮点数。

- ```random.randint(a, b)```
  
   > 返回随机整数 $N$ 满足 $a \leq N \leq b$。相当于 ```randrange(a, b+1)```。

    ``` python
    >>> random.randint(10,20)
    19
    ```

- ```random.randrange(start, stop[, step])```

   > 从 ```range(start, stop, step)``` 返回一个随机选择的元素。

   ``` python
   >>> random.randrange(10,100,10)
   20
   ```

- ```random.choice(seq)```

   > 从非空序列 ```seq``` 返回一个随机元素。

   ``` python
   >>> random.choice([1314,520])
   1314
   ```

- ```random.random()```

   > 返回 ```[0.0, 1.0)``` 范围内的下一个随机浮点数。

   ``` python
   >>> random.random()
   0.5954853351071572
   ```

